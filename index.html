<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
    <title>fly game</title>
	<script type="text/javascript" src="js/phaser.min.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>

<script type="text/javascript">

var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update });

function preload() {

	game.load.image('player', 'assets/ship.png');
	game.load.image('obstacle', 'assets/asteroid.png');
	game.load.image('platforms', 'assets/espace.png');


}

// def  variabes
var player;
var platforms;
var cursors;
var asteroid;
var  frames;



function create() {

	game.world.setBounds(0, 0, 800*4, 600);

	frames = Phaser.Animation.generateFrameNames('frame', 2, 30, '', 2);
	frames.unshift('frame02');


  // create  element  asteroid  and plateform
	asteroid = game.add.group();

	for (var i = 0; i < 128; i++)
	{
			asteroid.create(game.world.randomX, game.world.randomY, 'obstacle');
	}

	platforms = game.add.group();

		for (var i = 0; i < 1; i++)
		{
				platforms.create(game.world.randomX, game.world.randomY, 'platforms');
		}

		 // The player and its settings
		player = game.add.sprite(100, 300, 'player');
     player.anchor.x = 1;

		 game.camera.follow(player, Phaser.Camera.FOLLOW_LOCKON, 0.1);
		 // def cursors
    cursors = game.input.keyboard.createCursorKeys();


}

function update() {


	if (cursors.left.isDown)
	{
		player.x = player.x -2 ;
		 player.scale.x = 1;
	}
	else if (cursors.right.isDown)
	{
		player.x = player.x+2 ;
		 player.scale.x = 1;
	}

	if (cursors.up.isDown)
	{

		player.y = player.y - 2 ;
		 player.scale.y = 1;

	}
	else if (cursors.down.isDown)
	{
		player.y = player.y +2  ;
		 player.scale.y = 1;
	}

}



</script>

</body>
</html>
